(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7617:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>u});var t,s,i,o,a=n(5155),c=n(2115);function l(e,r,n,t){if("a"===n&&!t)throw TypeError("Private accessor was defined without a getter");if("function"==typeof r?e!==r||!t:!r.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?t:"a"===n?t.call(e):t?t.value:r.get(e)}function d(e,r,n,t,s){if("m"===t)throw TypeError("Private method is not writable");if("a"===t&&!s)throw TypeError("Private accessor was defined without a setter");if("function"==typeof r?e!==r||!s:!r.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===t?s.call(e,n):s?s.value=n:r.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError;let p="__TAURI_TO_IPC_KEY__";t=new WeakMap,s=new WeakMap,i=new WeakMap,o=new WeakMap;async function h(e,r={},n){return window.__TAURI_INTERNALS__.invoke(e,r,n)}new WeakMap,n(9573);let u=function(){let[e,r]=(0,c.useState)(!1),[n,t]=(0,c.useState)([]);async function s(){await h("start_server",{}),r(!0),o()}async function i(){await h("stop_server",{}),r(!1),t([])}async function o(){t(await h("get_clients",{}))}async function l(e){await h("remove_client",{clientId:e}),o()}return(0,c.useEffect)(()=>{if(e){let e=setInterval(()=>{o()},2e3);return()=>clearInterval(e)}},[e]),(0,a.jsxs)("main",{className:"container",children:[(0,a.jsx)("h1",{children:"Welcome to Mobile Controller"}),e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{children:"Server is running"}),(0,a.jsx)("button",{onClick:i,children:"Stop Server"}),(0,a.jsxs)("div",{style:{marginTop:"20px"},children:[(0,a.jsxs)("h2",{children:["Connected Clients (",n.length,")"]}),0===n.length?(0,a.jsx)("p",{children:"No clients connected"}):(0,a.jsx)("div",{children:n.map(e=>(0,a.jsxs)("div",{style:{border:"1px solid #ccc",padding:"10px",margin:"10px 0",borderRadius:"5px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Client ID:"})," ",e.id,(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:"Address:"})," ",e.address,(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:"Port:"})," ",e.port]}),(0,a.jsx)("button",{onClick:()=>l(e.id),style:{backgroundColor:"#ff4444",color:"white",border:"none",padding:"5px 10px",borderRadius:"3px",cursor:"pointer"},children:"Remove"})]},e.id))})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{children:"Server is stopped"}),(0,a.jsx)("button",{onClick:s,children:"Start Server"})]})]})}},8547:(e,r,n)=>{Promise.resolve().then(n.bind(n,7617))},9573:()=>{}},e=>{var r=r=>e(e.s=r);e.O(0,[220,441,684,358],()=>r(8547)),_N_E=e.O()}]);